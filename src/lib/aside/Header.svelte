<script>
  import Preferences from '$lib/icons/Preferences.svelte';
  import Menu from '$lib/menu/Menu.svelte';
  import MenuItem from '$lib/menu/MenuItem.svelte';
  import Overlay from '$lib/Overlay.svelte';
  import ProBadge from './_ProBadge.svelte';

  let showMenu = false;
</script>

<section class="flex flex-row items-center">
  <div class="text-lg text-gray-600 font-medium">User</div>
  <ProBadge />
  <div class="ml-auto relative">
    <button
      class="text-gray-600 focus:outline-none"
      on:click={() => {
        showMenu = !showMenu;
      }}
    >
      <Preferences />
    </button>
    {#if showMenu}
      <Overlay
        on:click={() => {
          showMenu = false;
        }}
      />
      <Menu>
        <MenuItem><span role="img" aria-label="user">ğŸ‘¤</span>è´¦å·è¯¦æƒ…</MenuItem>
        <MenuItem><span role="img" aria-label="gift">ğŸ</span>æœ‰äº›ç¦åˆ©</MenuItem>
        <MenuItem><span role="img" aria-label="tools">ğŸ› </span>API åŠç¬¬ä¸‰æ–¹å·¥å…·</MenuItem>
        <MenuItem><span role="img" aria-label="weibo">ğŸ‘ï¸</span>å®˜æ–¹å¾®åš</MenuItem>
        <MenuItem><span role="img" aria-label="help">ğŸ¤”</span>å¸®åŠ©</MenuItem>
        <MenuItem><span role="img" aria-label="feedback">ğŸ‘¾</span>åé¦ˆ</MenuItem>
        <MenuItem><span role="img" aria-label="bye">ğŸ‘‹</span>é€€å‡º</MenuItem>
      </Menu>
    {/if}
  </div>
</section>

<style style lang="postcss">
  span[role='img'] {
    @apply mr-2;
  }
</style>
